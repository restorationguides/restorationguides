/* =========================
   style.css
   ========================= */
:root{
  --bg1:#1b2a2a; --bg2:#2b3d32; --bg3:#0e1113; --accent:#ffcf33; --ui:#e7e2d5; --shadow:rgba(0,0,0,.35);
  --blue:#2a7de1; --orange:#ff7a1a; --green:#2ac66d; --purple:#7b4de9;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:radial-gradient(1200px 700px at 70% -10%,rgba(255,221,120,.15),transparent 60%),radial-gradient(900px 500px at 20% 110%,rgba(120,210,180,.15),transparent 60%),linear-gradient(180deg,var(--bg1),var(--bg3));color:var(--ui);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Inter,Arial,sans-serif;overflow:hidden}
.savanna{position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:0}
.layer{position:absolute;inset:auto 0 0 0;height:40vh;background-repeat:repeat-x;opacity:.35;filter:blur(.2px)}
.layer.sun{top:2rem;left:50%;translate:-50% 0;width:220px;height:220px;border-radius:50%;background:radial-gradient(circle at 50% 50%,#ffd66b 0%,#ffb11a 60%,rgba(255,177,26,0) 70%);opacity:.5}
.layer.hills{bottom:0;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="240" viewBox="0 0 1200 240"><path d="M0 160 C 200 120 350 200 600 150 C 850 100 1000 180 1200 140 L1200 240 L0 240 Z" fill="%232b3d32"/></svg>');background-size:1200px 240px;animation:scroll 60s linear infinite;opacity:.5}
.layer.grass{bottom:-10px;height:22vh;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="1200" height="200" viewBox="0 0 1200 200"><defs><linearGradient id="g" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="%230f1b14"/><stop offset="100%" stop-color="%230a120e"/></linearGradient></defs><rect width="1200" height="200" fill="url(%23g)"/><g fill="%231a2a22" opacity=".8"><path d="M0 190 l10 -60 l10 60 z"/><path d="M40 190 l6 -50 l6 50 z"/><path d="M80 190 l8 -70 l8 70 z"/><path d="M120 190 l12 -65 l12 65 z"/><path d="M160 190 l6 -50 l6 50 z"/></g></svg>');background-size:1200px 200px;animation:scroll 20s linear infinite}
@keyframes scroll{from{background-position:0 0}to{background-position:-1200px 0}}
.container{position:relative;z-index:2;height:100%;display:flex;flex-direction:column}
header{display:flex;align-items:center;justify-content:space-between;padding:.75rem 1rem;gap:.5rem;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.00));border-bottom:1px solid rgba(255,255,255,.08)}
.title{font-weight:800;letter-spacing:.5px}
.controls{display:flex;gap:.5rem;align-items:center}
button{border:0;background:#222;color:var(--ui);padding:.6rem .9rem;border-radius:14px;box-shadow:0 6px 16px var(--shadow);cursor:pointer;font-weight:700}
button:active{transform:translateY(1px)}
.overlay{position:fixed;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.5),rgba(0,0,0,.8));display:flex;align-items:center;justify-content:center;z-index:3}
.menu{width:min(820px,92vw);padding:1.2rem;background:rgba(20,24,22,.85);border-radius:22px;box-shadow:0 20px 60px var(--shadow);backdrop-filter:blur(6px)}
.menu h1{margin:.2rem 0 1rem;font-size:clamp(1.6rem,2.5vw + 1rem,2.4rem)}
.menu p{opacity:.85;line-height:1.5}
.menu .grid{display:grid;gap:1rem;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));margin-top:1rem}
.menu .grid.small{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
.menu .card{padding:1rem;border:1px solid rgba(255,255,255,.08);border-radius:16px;background:rgba(255,255,255,.03)}
.row.actions{display:flex;gap:.6rem;margin-top:1rem;flex-wrap:wrap}
.table{flex:1;display:grid;grid-template-rows:1fr auto 1fr;gap:1rem;padding:1rem;max-width:1200px;margin:0 auto;width:100%}
.row{display:flex;align-items:center;justify-content:center;gap:.4rem;flex-wrap:wrap;padding:.4rem}
.hand{display:flex;gap:.35rem;flex-wrap:wrap;align-items:center;justify-content:center}
.card{position:relative;width:70px;height:100px;perspective:800px}
.card .inner{position:absolute;inset:0;transform-style:preserve-3d;transition:transform .5s ease,filter .2s ease}
.card.playing .inner{transform:rotateY(180deg) translateZ(0)}
.card .face{position:absolute;inset:0;backface-visibility:hidden;border-radius:12px;box-shadow:0 6px 10px var(--shadow),inset 0 0 0 2px rgba(255,255,255,.08)}
.card .back{transform:rotateY(180deg);background:conic-gradient(from 0deg,var(--orange),var(--blue),var(--green),var(--purple),var(--orange));display:grid;place-items:center}
.card .back span{font-weight:900;font-size:1.2rem;background:rgba(0,0,0,.35);padding:.2rem .4rem;border-radius:10px}
.face .badge{position:absolute;top:6px;left:6px;font-size:.7rem;background:rgba(0,0,0,.4);padding:.15rem .35rem;border-radius:8px}
.n{position:absolute;bottom:8px;right:10px;font-weight:800;font-size:1.1rem;text-shadow:0 2px 0 rgba(0,0,0,.2)}
.ring{position:absolute;inset:4px;border-radius:10px;background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.18),transparent 30%),radial-gradient(circle at 70% 70%,rgba(0,0,0,.2),transparent 35%)}
.sym{position:absolute;inset:18px;display:grid;place-items:center}
.sym svg{width:100%;height:100%;opacity:.95;filter:drop-shadow(0 2px 1px rgba(0,0,0,.25))}
.piles{display:flex;align-items:center;justify-content:center;gap:1.2rem}
.pile{width:72px;height:104px;border-radius:12px;background:rgba(255,255,255,.06);display:grid;place-items:center;border:1px dashed rgba(255,255,255,.12)}
.log{max-height:20vh;overflow:auto;font-size:.9rem;padding:.4rem .7rem;background:rgba(0,0,0,.25);border-radius:12px}
.toast{position:fixed;top:12px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.7);padding:.6rem .9rem;border-radius:12px;font-weight:700;opacity:0;transition:opacity .3s ease;z-index:4}
.toast.show{opacity:1}
@media (max-width:600px){.card{width:56px;height:84px}.menu{padding:.9rem}}
